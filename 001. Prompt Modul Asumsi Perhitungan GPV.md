Konteks teknis APLIKASI (WAJIB DIIKUTI):

1. Stack aplikasi:

   - Backend: Laravel (PHP 8+).
   - Admin panel: FilamentPHP versi 4 (VERSI TERBARU).
   - Database: SQL Server.
   - Database name: acurex_sql_db.
   - Semua tabel modul rate disimpan di schema: reference.

2. Konvensi & pola (GOLDEN SAMPLE – WAJIB KONSISTEN):

   - Contoh modul yang sudah JALAN & SUKSES:
     "Asumsi Perhitungan GPV" dengan struktur:
     - Master: reference.asumsi_perhitungan_gpv
     - Detail: reference.asumsi_perhitungan_gpv_lapse_rate
     - Model:
       - App\Models\Reference\AsumsiPerhitunganGpv
       - App\Models\Reference\AsumsiPerhitunganGpvLapseRate
       - Keduanya pakai SoftDeletes.
       - Keduanya punya metode booted() untuk set created_by otomatis:
         - created_by = auth()->id() ?? 0 kalau kosong.
     - Filament Resource:
       - Namespace: App\Filament\Admin\Resources\Reference\AsumsiPerhitunganGpvs\...
       - Resource class: AsumsiPerhitunganGpvResource.
       - Dipisah menjadi:
         - Schemas\AsumsiPerhitunganGpvForm
         - Schemas\AsumsiPerhitunganGpvInfolist
         - Tables\AsumsiPerhitunganGpvsTable
         - Pages\List / Create / View / Edit
       - Resource memakai Filament v4 Schema:
         - form(Schema $schema): Schema
         - infolist(Schema $schema): Schema
         - table(Table $table): Table
     - Form master + detail:
       - Section "Data ..." untuk master (TextInput, Select, dst).
       - Section "Lapse Rate per Tahun" (atau setara) untuk detail
         menggunakan Repeater::make('relationshipName')->relationship('relationshipName').
     - View / Infolist:
       - Section 1: data master.
       - Section 2: data detail menggunakan RepeatableEntry.
     - List/Table:
       - Tampilkan kolom-kolom utama + format angka dengan number_format(..., 2, ',', '.') . ' %' bila persen.
       - Record actions minimal: View, Edit.
     - Pages:
       - List: header action Create.
       - Edit: header actions Back to Index + Delete.
       - View: header actions Back to Index + Download PDF.
     - PDF:
       - Menggunakan barryvdh/laravel-dompdf.
       - View blade khusus yang menerima variabel $record dan menampilkan master + detail.

   Tugasmu: UNTUK MODUL BARU, KODE YANG KAMU TULIS HARUS MENGIKUTI POLA & STRUKTUR GOLDEN SAMPLE INI
   (model, resource, schemas, table, pages, booted created_by, SoftDeletes, dll).

3. DB & SQL Server:

   - JANGAN buat migration Laravel.
   - Saya butuh script SQL Server yang bisa langsung dijalankan di SSMS:
     - CREATE TABLE lengkap dengan PK, FK, index yang perlu.
     - INSERT seed awal (contoh beberapa baris, tidak harus banyak).
   - Semua tabel WAJIB di schema reference, bukan dbo.
   - Setiap tabel WAJIB punya kolom standar:
     - created_at datetime NOT NULL,
     - updated_at datetime NULL,
     - deleted_at datetime NULL,
     - created_by bigint NOT NULL,
     - keterangan varchar(255) NULL
   - Untuk kolom yang berupa persentase:
     - Disimpan sebagai DECIMAL(9,4) dengan range 0–100 (mis: 5% = 5.00).
   - Kalau ada faktor pengali (contoh di GPV: 100% × (1 + rate)), boleh dibuat kolom computed di SQL Server.

4. Filament Resource (Panel Admin → Folder Reference):

   - Buat Resource baru di:
     App\Filament\Admin\Resources\Reference\[NamaResourcePlural]\[NamaModul]Resource
     dengan gaya yang sama seperti:
     App\Filament\Admin\Resources\Reference\AsumsiPerhitunganGpvs\AsumsiPerhitunganGpvResource
   - Resource:
     - extends Filament\Resources\Resource
     - form(Schema $schema): Schema → delegasi ke [NamaModul]Form::configure()
     - infolist(Schema $schema): Schema → delegasi ke [NamaModul]Infolist::configure()
     - table(Table $table): Table → delegasi ke [NamaModulPlural]Table::configure()
     - getPages(): List, Create, View, Edit (namespace Pages).
   - Form (Schemas\[NamaModul]Form):
     - Section 1: data master (field-field utama).
     - Section 2: Repeater untuk detail (hasMany) memakai ->relationship('namaRelasi').
   - Infolist (Schemas\[NamaModul]Infolist):
     - Section 1: data master.
     - Section 2: detail menggunakan RepeatableEntry, termasuk logika penulisan "dst." bila ada flag is_berlaku_seterusnya (kalau relevan).
   - Table (Tables\[NamaModulPlural]Table):
     - Kolom-kolom penting dari master.
     - Format angka/percent menggunakan number_format dengan gaya Indonesia (2 decimal, koma).
     - Record actions: View, Edit.
   - Pages:
     - List: header CreateAction::make().
     - Create: boleh override mutateFormDataBeforeCreate kalau perlu, tapi created_by sudah di-handle di model (booted).
     - Edit: header actions (Back to Index + DeleteAction).
     - View: header actions (Back to Index + Download PDF).
   - JANGAN membuat Importer/Exporter Filament (ImportAction/ExportAction).
     Import/Export Excel akan diurus dengan mekanisme lain, bukan bagian jawaban ini.

5. Model Eloquent:

   - Buat model untuk tabel master & detail:
     - namespace App\Models\Reference;
     - protected $table = 'reference.<nama_tabel>';
   - Tambahkan SoftDeletes di kedua model.
   - Tambahkan relasi:
     - master -> details: hasMany(DetailModel::class, 'foreign_key').
     - detail -> master: belongsTo(MasterModel::class, 'foreign_key').
   - Tambahkan booted():
     - static::creating() mengisi created_by dengan auth()->id() ?? 0 jika kosong.
   - Isi $fillable dan $casts yang masuk akal (integer, float, boolean, datetime, dll).

6. PDF:

   - Gunakan barryvdh/laravel-dompdf (anggap paket sudah terinstall).
   - Tambahkan action "Download PDF" di halaman View Page, yang:
     - load relasi detail,
     - render view blade,
     - stream download PDF.
   - Buat contoh blade untuk PDF (boleh simple tapi rapi) yang menampilkan:
     - Data master.
     - Tabel data detail.

7. Penulisan jawaban:

   - Jawaban harus sangat terstruktur dan bisa langsung saya copy-paste:
     - Bagian A: Script SQL (CREATE TABLE + seed contoh).
     - Bagian B: Model Laravel (master & detail).
     - Bagian C: Filament Resource:
       - Resource utama
       - Schemas (Form & Infolist)
       - Table class
       - Pages (List, Create, View, Edit)
       - View Blade untuk PDF
   - JANGAN membuat migration.
   - JANGAN membuat kode Import/Export Filament.
   - Gunakan sintaks & cara kerja Filament v4 dengan Schema seperti di golden sample di atas.

===========================================================
SPESIFIKASI MODUL RATE BARU (YANG PERLU KAMU DESAIN):

1. Nama modul rate:
   [ISI DI SINI, contoh: "Asumsi Perhitungan Diskonto"]

2. Tabel master:

   - Nama tabel master di schema reference:
     [ISI, contoh: reference.asumsi_perhitungan_diskonto]
   - Kolom tambahan di tabel master selain standar:
     - Jelaskan satu per satu nama kolom, tipe data, dan artinya.
       Contoh:
       - kode (varchar(50)) → kode unik modul
       - nama (varchar(150)) → nama deskriptif
       - jenis_mortalita (varchar(20)) → enum: Pria/Unisex/Reas-Pria/Reas-Unisex
       - rate_asumsi_diskonto (decimal(9,4)) → persen, 0–100
       - dst...

3. Tabel detail:

   - Nama tabel detail di schema reference:
     [ISI, contoh: reference.asumsi_perhitungan_diskonto_lapse_rate]
   - Kolom-kolom detail:
     - [jelaskan: tahun_ke, is_berlaku_seterusnya, rate, dll]

4. Behaviour khusus:

   - Misalnya:
     - Pembulatan sampai 2 desimal di UI.
     - 0 dianggap tidak ada rate.
     - Validasi range angka (contoh: 0–100).
     - Logika “tahun ke-X dst” (pakai is_berlaku_seterusnya) bila perlu.
     - Rumus faktor pengali bila ada (jelaskan rumusnya).

5. Contoh data yang akan di-input:
   - Tuliskan beberapa contoh record master + detail (seperti kasus APGPV5 sebelumnya),
     agar aku bisa menyesuaikan seed dan format tampilan.

===========================================================
TOLONG:

- Baca dan ikuti SEMUA konteks & konvensi di atas.
- Kalau ada asumsi tambahan yang kamu buat, tuliskan jelas di jawaban.
- Lalu hasilkan:
  - Bagian A: SQL
  - Bagian B: Model
  - Bagian C: Filament Resource (Resource + Schemas + Table + Pages + PDF Blade)
    sesuai GOLDEN SAMPLE yang sudah dijelaskan.
